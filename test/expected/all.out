\set ECHO none

    # Subtest: _classy_test.test_instantiate()
    ok 1 - Get test data set "base" for table _classy._class
    ok 2 - ensure test function does not already exist
    ok 3 - SELECT classy.instantiate('pg_classy test create function', 1, '{"body": "SELECT a + b", "options": "", "returns": "integer", "language": "sql", "arguments": "a int, b int", "comment_code": "", "function_name": "_classy_test.instantiate_test_function"}')
    ok 4 - instance of "pg_classy test create function" already created
    ok 5 - Function _classy_test.instantiate_test_function(integer, integer) should be written in sql
    ok 6 - Function _classy_test.instantiate_test_function(integer, integer) should return integer
    1..6
ok 1 - _classy_test.test_instantiate
    # Subtest: _classy_test.test_schemas()
    ok 1 - Role public should be granted USAGE on schema classy
    ok 2 - Role public should be granted no privileges on schema _classy
    1..2
ok 2 - _classy_test.test_schemas
1..2
